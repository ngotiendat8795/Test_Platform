<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<style>
  
table, th, td {
  border: 1px solid black;
}

</style>

<body>
	
  {%for reading in reading_history%}
    <div>
      <table>
        <tr>
          <td>Question</td>
          <td>Your Answer</td>
          <td>Correct Answer </td>
          <td>Correctness</td>
          </tr>

        
          {%for i in range(1,41)%}
          {% set test_score = 0 %}
          <tr>
            {% set question_id = Test_ID|string + "_R_" + i|string %}
            <td> {{i}}</td>
            <td> {{reading[question_id]}}</td>
            {% set question_data = Answer_Key.find_one({"Question_ID": question_id}) %}
            <td>
              {{ question_data["Answer"] }}
            </td>
            {% if question_data["Answer"] == reading[question_id]  %}
            <td>YES</td>
            {% set test_score = test_score + 1 %}
            {% else %}
            <td>NO</td>
            {% endif %}

            {% endfor %}
          </tr>
      

      </table>

      <h4>Your score is</h4>
      <p>{{test_score}}</p>

    </div>
  {%endfor%}





</body>
</html>

